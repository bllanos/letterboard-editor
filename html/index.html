<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Letterboard text validator</title>

  <!-- Load React. -->
  <!-- Note: when deploying, replace "development.js" with "production.min.js". -->
  <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js" crossorigin></script>
</head>

<body>

  <h2>Letterboard message text validator</h2>
  <p>
    Enter the text that you wish to display on the letterboard into the fields below.
    The webpage will enforce length limits on each line, and will ensure that the text respects the inventory of
    character cards.
  </p>
  <p>
    The webpage cannot guarantee that the text will fit on the letterboard, as it does not (yet) account for variations
    in card widths.
  </p>

  <!-- React component root. See https://reactjs.org/docs/add-react-to-a-website.html -->
  <div id="app_container"></div>

  <!-- Load the React portion of the page. -->
  <!-- For better performance, we would use Babel to process the script at build time. -->
  <!-- It would be nice to put the script in a separate file, but doing so is no longer possible because of changes to local file security policies (https://www.mozilla.org/en-US/security/advisories/mfsa2019-21/#CVE-2019-11730) -->
  <script type="text/babel">
    'use strict';

    /**
     * The number of sides of the sign
     */
    const nSides = 2;

    /**
     * The number of lines per side
     */
    const nLinesPerSide = 4;

    /**
     * The number of characters that can fit on a line
     */
    const maxCharactersPerLine = 20;

    /**
     * A mapping from characters to cards that can represent
     * more than one kind of character.
     */
    const charactersToCards = {
      "0": "Oor0",
      "O": "Oor0",
      "6": "6or9",
      "9": "6or9"
    }

    /**
     * Inventory of character cards
     */
    const cardsToCounts = {
      "A": 18,
      "B": 10,
      "C": 10,
      "D": 10,
      "E": 24,
      "F": 10,
      "G": 16,
      "H": 10,
      "I": 14,
      "J": 8,
      "K": 10,
      "L": 10,
      "M": 16,
      "N": 10,
      "Oor0": 26,
      "P": 10,
      "Q": 6,
      "R": 16,
      "S": 18,
      "T": 18,
      "U": 10,
      "V": 8,
      "W": 10,
      "X": 8,
      "Y": 10,
      "Z": 6,
      "1": 8,
      "2": 8,
      "3": 8,
      "4": 8,
      "5": 8,
      "6or9": 16,
      "7": 8,
      "8": 8,
      "$": 8,
      "&": 8,
      "-": 8,
      "Â¢": 8,
      "@": 8,
      "%": 8,
      ":": 8,
      ".": 8
    }

    class LikeButton extends React.Component {
      constructor(props) {
        super(props);
        this.state = { liked: false };
      }

      render() {
        if (this.state.liked) {
          return 'You liked this.';
        }

        return (
          <button onClick={() => this.setState({ liked: true })}>
            Like
          </button>
        );
      }
    }

    const domContainer = document.querySelector('#app_container');
    ReactDOM.render(<LikeButton />, domContainer);
  </script>

</body>

</html>